"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9546],{5553:(_,p,o)=>{o.d(p,{h:()=>c});var r=o(177),T=o(7863),n=o(4438);let c=(()=>{var l;class t{}return(l=t).\u0275fac=function(d){return new(d||l)},l.\u0275mod=n.$C({type:l}),l.\u0275inj=n.G2t({imports:[r.MD,T.bv]}),t})()},3241:(_,p,o)=>{o.d(p,{p:()=>c});var r=o(4438),T=o(177),n=o(7863);let c=(()=>{var l;class t{constructor(d){this.location=d,this.title="Header Title"}ngOnInit(){}goBack(){this.location.back()}}return(l=t).\u0275fac=function(d){return new(d||l)(r.rXU(T.aZ))},l.\u0275cmp=r.VBU({type:l,selectors:[["app-header-return"]],inputs:{title:"title"},decls:6,vars:2,consts:[[3,"translucent"],["slot","start","menu","menu-id"],["name","arrow-back","slot","start",1,"p-4","bigger-icon",3,"click"]],template:function(d,g){1&d&&(r.j41(0,"ion-header",0)(1,"ion-toolbar"),r.nrm(2,"ion-menu-button",1),r.j41(3,"ion-icon",2),r.bIt("click",function(){return g.goBack()}),r.k0s(),r.j41(4,"ion-title"),r.EFF(5),r.k0s()()()),2&d&&(r.Y8G("translucent",!0),r.R7$(5),r.JRh(g.title))},dependencies:[n.eU,n.iq,n.MC,n.BC,n.ai],styles:[".bigger-icon[_ngcontent-%COMP%]{font-size:1.5em}"]}),t})()},8453:(_,p,o)=>{o.d(p,{W:()=>n});var r=o(4438),T=o(7863);let n=(()=>{var c;class l{constructor(){this.title="Title"}ngOnInit(){}}return(c=l).\u0275fac=function(u){return new(u||c)},c.\u0275cmp=r.VBU({type:c,selectors:[["app-title"]],inputs:{title:"title"},decls:4,vars:1,consts:[[1,"lg:m-10"],["size","12","size-md","6","size-lg","6"],[1,"text-4xl","lg:text-6xl","font-bold"]],template:function(u,d){1&u&&(r.j41(0,"ion-row",0)(1,"ion-col",1)(2,"h1",2),r.EFF(3),r.k0s()()()),2&u&&(r.R7$(3),r.JRh(d.title))},dependencies:[T.hU,T.ln]}),l})()},9546:(_,p,o)=>{o.r(p),o.d(p,{ViewHistorySystemTestPageModule:()=>R});var r=o(177),T=o(4341),n=o(7863),c=o(7650),l=o(467),t=o(4438),u=o(147),d=o(8453),g=o(3241);function f(s,m){return this.systemTestHistory}function v(s,m){if(1&s){const a=t.RV6();t.nrm(0,"ion-icon",10)(1,"ion-icon",11),t.j41(2,"ion-icon",12),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,y=t.XpG();return t.Njj(y.delete(i.timestamp))}),t.k0s(),t.j41(3,"ion-icon",13),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,y=t.XpG();return t.Njj(y.navigateToViewHistorySystemTest(i))}),t.k0s()}}function H(s,m){if(1&s){const a=t.RV6();t.nrm(0,"ion-icon",14)(1,"ion-icon",15),t.j41(2,"ion-icon",12),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,y=t.XpG();return t.Njj(y.delete(i.timestamp))}),t.k0s(),t.j41(3,"ion-icon",13),t.bIt("click",function(){t.eBV(a);const i=t.XpG().$implicit,y=t.XpG();return t.Njj(y.navigateToViewHistorySystemTest(i))}),t.k0s()}}function S(s,m){if(1&s&&(t.j41(0,"ion-item")(1,"ion-label")(2,"h1",9),t.EFF(3),t.k0s()(),t.DNE(4,v,4,0)(5,H,4,0),t.k0s()),2&s){const a=m.$implicit;t.R7$(3),t.Lme("",a.systemTest.title," - ",a.timestamp,""),t.R7$(),t.vxM(4,a.systemTest.state?4:-1),t.R7$(),t.vxM(5,a.systemTest.state?-1:5)}}const P=[{path:"",component:(()=>{var s;class m{constructor(e,i,y,h){this.activatedRoute=e,this.systemTestService=i,this.loadingCtrl=y,this.router=h,this.user={},this.orgName="",this.productObjective="",this.productStep="",this.testTitle="",this.systemTestHistory=[],this.passed=0,this.failed=0}ngOnInit(){}ionViewWillEnter(){var e=this;return(0,l.A)(function*(){e.getProductFromParams(),yield e.getHistorySystemTest(),yield e.passedTests()})()}getProductFromParams(){this.activatedRoute.params.subscribe(e=>{this.productObjective=e.productObjective,this.productStep=e.step,this.testTitle=e.testTitle}),console.log(this.productObjective),console.log(this.productStep),console.log(this.testTitle)}getHistorySystemTest(){var e=this;return(0,l.A)(function*(){yield e.showLoading(),e.user=JSON.parse(localStorage.getItem("user")||"{}"),e.orgName=e.user.orgName||"",yield e.systemTestService.getSystemTestHistoryByTitle(e.orgName,e.productObjective,e.productStep,e.testTitle).then(i=>{e.systemTestHistory=i,e.systemTestHistory.sort((y,h)=>{const M=new Date(y.timestamp).getTime();return new Date(h.timestamp).getTime()-M})}),yield e.hideLoading()})()}delete(e){var i=this;return(0,l.A)(function*(){yield i.showLoading(),yield i.systemTestService.deleteSystemTestHistoryByKey(i.orgName,i.productObjective,i.productStep,i.testTitle,e).then((0,l.A)(function*(){yield i.getHistorySystemTest()})),yield i.hideLoading()})()}passedTests(){var e=this;return(0,l.A)(function*(){e.passed=e.systemTestHistory.filter(i=>i.systemTest.state).length,e.failed=e.systemTestHistory.length-e.passed})()}showLoading(){var e=this;return(0,l.A)(function*(){yield(yield e.loadingCtrl.create({})).present()})()}hideLoading(){var e=this;return(0,l.A)(function*(){yield e.loadingCtrl.dismiss()})()}navigateToViewHistorySystemTest(e){var i=this;return(0,l.A)(function*(){yield i.router.navigate(["/view-system-test",{productObjective:i.productObjective,step:i.productStep,testTitle:i.testTitle,timestamp:e.timestamp}])})()}}return(s=m).\u0275fac=function(e){return new(e||s)(t.rXU(c.nX),t.rXU(u.h),t.rXU(n.Xi),t.rXU(c.Ix))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-view-history-system-test"]],decls:33,vars:7,consts:[[3,"title"],[3,"fullscreen"],[1,"lg:m-10","md:m-10"],["size","12","size-md","4","size-lg","4",1,""],["size","6","size-md","6","size-lg","6",1,""],[1,"flex","flex-col","justify-center","items-center","text-green-600"],[1,"flex","flex-col","justify-center","items-center"],[1,"flex","flex-col","justify-center","items-center","text-red-800"],["size","12","size-md","12","size-lg","12",1,""],[1,"text-white"],["aria-hidden","true","name","checkmark-circle","slot","end","color","success"],["aria-hidden","true","name","close-circle","slot","end","color",""],["aria-hidden","true","name","trash","slot","end","color","",3,"click"],["aria-hidden","true","name","eye","slot","start","color","",3,"click"],["aria-hidden","true","name","checkmark-circle","slot","end","color",""],["aria-hidden","true","name","close-circle","slot","end","color","danger"]],template:function(e,i){1&e&&(t.nrm(0,"app-header-return",0),t.j41(1,"ion-content",1)(2,"ion-grid"),t.nrm(3,"app-title",0),t.j41(4,"ion-row",2)(5,"ion-col",3)(6,"p"),t.EFF(7),t.k0s()()(),t.j41(8,"ion-row",2)(9,"ion-col",4)(10,"ion-card")(11,"ion-card-header")(12,"ion-card-title",5),t.EFF(13,"Passed Tests"),t.k0s()(),t.j41(14,"ion-card-content",6)(15,"h1"),t.EFF(16),t.k0s()()()(),t.j41(17,"ion-col",4)(18,"ion-card")(19,"ion-card-header")(20,"ion-card-title",7),t.EFF(21,"Failed Tests"),t.k0s()(),t.j41(22,"ion-card-content",6)(23,"h1"),t.EFF(24),t.k0s()()()()()(),t.j41(25,"ion-grid")(26,"ion-row",2)(27,"ion-col",8)(28,"ion-card")(29,"ion-card-content")(30,"ion-list"),t.Z7z(31,S,6,4,"ion-item",null,f,!0),t.k0s()()()()()()()),2&e&&(t.Y8G("title","History System Tests: "+i.testTitle),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(2),t.Y8G("title","History System Tests: "+i.testTitle),t.R7$(4),t.Lme("System tests results for product step: ",i.productStep,". Test title: ",i.testTitle,""),t.R7$(9),t.JRh(i.passed),t.R7$(8),t.JRh(i.failed),t.R7$(7),t.Dyx(i.systemTestHistory))},dependencies:[n.b_,n.I9,n.ME,n.tN,n.hU,n.W9,n.lO,n.iq,n.uz,n.he,n.nf,n.ln,d.W,g.p]}),m})()}];let C=(()=>{var s;class m{}return(s=m).\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[c.iI.forChild(P),c.iI]}),m})();var j=o(5553);let R=(()=>{var s;class m{}return(s=m).\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[r.MD,T.YN,n.bv,C,j.h]}),m})()}}]);