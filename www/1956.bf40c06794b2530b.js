"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1956],{1956:(j,d,r)=>{r.r(d),r.d(d,{LatencyTestPageModule:()=>C});var y=r(177),p=r(4341),i=r(7863),h=r(305),u=r(467),e=r(4438),f=r(1626);let v=(()=>{var n;class a{constructor(t){this.http=t,this.measurementsUrl="https://cors-ea3m.onrender.com/https://atlas.ripe.net/api/v2/measurements/",this.measurementID="73134479"}sendMeasurementRequest(t,s,l){var o=this;return(0,u.A)(function*(){let g={definitions:[{target:t,description:s,type:"ping",af:4,is_oneoff:!0}],probes:[{requested:1,type:"area",value:"WW"}]};console.log(g);let m=yield o.http.post(o.measurementsUrl,g,{headers:{Authorization:"Key 92530695-134f-4cbc-b7c3-ec130f3719b0"}}).toPromise();console.log(m),o.measurementID=m.measurements[0],console.log(o.measurementID)})()}getMeasurementResults(){var t=this;return(0,u.A)(function*(){return t.http.get(t.measurementsUrl+t.measurementID+"/results/",{headers:{Authorization:"Key 92530695-134f-4cbc-b7c3-ec130f3719b0"}})})()}}return(n=a).\u0275fac=function(t){return new(t||n)(e.KVO(f.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();var T=r(385),M=r(8453);const R=[{path:"",component:(()=>{var n;class a{constructor(t){this.ripeService=t,this.host="portfoliojuanfranciscocisneros.web.app",this.description="NEW IONIC",this.type="ping",this.ripeResults=[]}ngOnInit(){var t=this;return(0,u.A)(function*(){yield t.getResults()})()}sendRequest(){console.log(this.host,this.description,this.type),this.ripeService.sendMeasurementRequest(this.host,this.description,this.type)}getResults(){var t=this;return(0,u.A)(function*(){(yield t.ripeService.getMeasurementResults()).subscribe(s=>{for(let l=0;l<s.length;l++){let o={latency:s[l].avg,dst_addr:s[l].dst_addr,from:s[l].from};t.ripeResults.push(o),console.log(o)}})})()}handleChange(t){this.type=t.detail.value}}return(n=a).\u0275fac=function(t){return new(t||n)(e.rXU(v))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-latency-test"]],inputs:{host:"host",description:"description"},decls:21,vars:5,consts:[[3,"title"],[3,"fullscreen"],[1,"lg:m-10","md:m-10"],["size","12","size-md","4","size-lg","4",1,""],["label","Host Name","placeholder","Enter a host name","type","text","labelPlacement","stacked",1,"",3,"ngModelChange","ngModel"],["size","12","size-md","4","size-lg","4"],["label","Description","placeholder","Enter a description","type","text","labelPlacement","stacked",1,"",3,"ngModelChange","ngModel"],[3,"ionChange"],["value","ping"],["value","traceroute"],["size","12","size-md","12","size-lg","12",1,"flex","flex-row","justify-end"],["color","primary",1,"",3,"click"]],template:function(t,s){1&t&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content",1)(2,"ion-grid"),e.nrm(3,"app-title",0),e.j41(4,"ion-row",2)(5,"ion-col",3)(6,"ion-input",4),e.mxI("ngModelChange",function(o){return e.DH7(s.host,o)||(s.host=o),o}),e.k0s()(),e.j41(7,"ion-col",5)(8,"ion-input",6),e.mxI("ngModelChange",function(o){return e.DH7(s.description,o)||(s.description=o),o}),e.k0s()(),e.j41(9,"ion-col",5)(10,"ion-list")(11,"ion-item")(12,"ion-select",7),e.bIt("ionChange",function(o){return s.handleChange(o)}),e.j41(13,"ion-select-option",8),e.EFF(14,"Ping"),e.k0s(),e.j41(15,"ion-select-option",9),e.EFF(16,"Traceroute"),e.k0s()()()()()(),e.j41(17,"ion-row",2)(18,"ion-col",10)(19,"ion-button",11),e.bIt("click",function(){return s.sendRequest()}),e.EFF(20,"Add Test"),e.k0s()()()()()),2&t&&(e.Y8G("title","Latency Test"),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("title","Latency Test"),e.R7$(3),e.R50("ngModel",s.host),e.R7$(2),e.R50("ngModel",s.description))},dependencies:[p.BC,p.vS,i.Jm,i.hU,i.W9,i.lO,i.$w,i.uz,i.nf,i.ln,i.Nm,i.Ip,i.Je,i.Gw,T.l,M.W]}),a})()}];let P=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[h.iI.forChild(R),h.iI]}),a})();var L=r(5553);let C=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[y.MD,p.YN,i.bv,P,L.h]}),a})()}}]);