"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2839],{5553:(_,p,r)=>{r.d(p,{h:()=>d});var s=r(177),f=r(7863),a=r(4438);let d=(()=>{var i;class e{}return(i=e).\u0275fac=function(u){return new(u||i)},i.\u0275mod=a.$C({type:i}),i.\u0275inj=a.G2t({imports:[s.MD,f.bv]}),e})()},3241:(_,p,r)=>{r.d(p,{p:()=>d});var s=r(4438),f=r(177),a=r(7863);let d=(()=>{var i;class e{constructor(u){this.location=u,this.title="Header Title"}ngOnInit(){}goBack(){this.location.back()}}return(i=e).\u0275fac=function(u){return new(u||i)(s.rXU(f.aZ))},i.\u0275cmp=s.VBU({type:i,selectors:[["app-header-return"]],inputs:{title:"title"},decls:6,vars:2,consts:[[3,"translucent"],["slot","start","menu","menu-id"],["name","arrow-back","slot","start",1,"p-4","bigger-icon",3,"click"]],template:function(u,F){1&u&&(s.j41(0,"ion-header",0)(1,"ion-toolbar"),s.nrm(2,"ion-menu-button",1),s.j41(3,"ion-icon",2),s.bIt("click",function(){return F.goBack()}),s.k0s(),s.j41(4,"ion-title"),s.EFF(5),s.k0s()()()),2&u&&(s.Y8G("translucent",!0),s.R7$(5),s.JRh(F.title))},dependencies:[a.eU,a.iq,a.MC,a.BC,a.ai],styles:[".bigger-icon[_ngcontent-%COMP%]{font-size:1.5em}"]}),e})()},2839:(_,p,r)=>{r.r(p),r.d(p,{FlameGraphDatePageModule:()=>R});var s=r(177),f=r(4341),a=r(7863),d=r(7650),i=r(467),e=r(4438),g=r(6560),u=r(8453),F=r(3241);function C(o,c){if(1&o){const l=e.RV6();e.j41(0,"ion-item",11),e.bIt("click",function(){const n=e.eBV(l).$implicit,m=e.XpG();return e.Njj(m.viewUsageForDate(n))}),e.j41(1,"ion-label"),e.EFF(2),e.k0s()()}if(2&o){const l=c.$implicit;e.R7$(2),e.JRh(l)}}function D(o,c){if(1&o){const l=e.RV6();e.j41(0,"ion-item",8)(1,"ion-checkbox",12),e.bIt("ionChange",function(n){const m=e.eBV(l).$implicit,h=e.XpG();return e.Njj(h.onCheckBoxChange(n,m))}),e.EFF(2),e.k0s()()}if(2&o){const l=c.$implicit;e.R7$(2),e.JRh(l)}}const v=[{path:"",component:(()=>{var o;class c{constructor(t,n,m,h){this.flameGraphService=t,this.loadingCtrl=n,this.router=m,this.route=h,this.dates=[],this.product={},this.checkedForComparison=[],this.isCompareButtonEnabled=!1}ionViewWillEnter(){var t=this;return(0,i.A)(function*(){t.getProductFromParams(),yield t.getDates()})()}getProductFromParams(){this.route.queryParams.subscribe(t=>{this.product=JSON.parse(t.product)}),console.log(this.product.productObjective)}getDates(){var t=this;return(0,i.A)(function*(){try{yield t.showLoading();const n=localStorage.getItem("user");if(!n)return;const h=JSON.parse(n).orgName;console.log(h),t.dates=yield t.flameGraphService.getDates(h,t.product.productObjective),console.log(t.dates),yield t.hideLoading(),0===t.dates.length&&t.dates.push("No dates found")}catch(n){console.log(n)}})()}viewUsageForDate(t){var n=this;return(0,i.A)(function*(){yield n.router.navigate(["/flame-graph"],{queryParams:{product:JSON.stringify(n.product),date:t}})})()}doRefresh(t){var n=this;return(0,i.A)(function*(){yield n.getDates(),t.target.complete()})()}showLoading(){var t=this;return(0,i.A)(function*(){yield(yield t.loadingCtrl.create({})).present()})()}hideLoading(){var t=this;return(0,i.A)(function*(){yield t.loadingCtrl.dismiss()})()}ngOnInit(){}onCheckBoxChange(t,n){t.detail.checked?this.checkedForComparison.push(n):this.checkedForComparison=this.checkedForComparison.filter(m=>m!==n),this.isCompareButtonEnabled=this.checkedForComparison.length>1}compareDates(){this.router.navigate(["/flame-graph-compare"],{queryParams:{product:JSON.stringify(this.product),dates:JSON.stringify(this.checkedForComparison)}})}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(g.x),e.rXU(a.Xi),e.rXU(d.Ix),e.rXU(d.nX))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-flame-graph-date"]],decls:28,vars:7,consts:[[3,"title"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"lg:m-10","md:m-10"],["size","12","size-md","4","size-lg","4",1,""],[1,"lg:m-10"],["size","12"],[1,"bg-white",3,"inset"],["color","dark"],["size","12",1,"ion-text-center"],[3,"click","disabled"],["color","dark",3,"click"],["justify","space-between",3,"ionChange"]],template:function(t,n){1&t&&(e.nrm(0,"app-header-return",0),e.j41(1,"ion-content",1)(2,"ion-refresher",2),e.bIt("ionRefresh",function(h){return n.doRefresh(h)}),e.nrm(3,"ion-refresher-content"),e.k0s(),e.j41(4,"ion-grid"),e.nrm(5,"app-title",0),e.j41(6,"ion-row",3)(7,"ion-col",4)(8,"p"),e.EFF(9,"Choose a date to see the server usage."),e.k0s()()(),e.j41(10,"ion-row",5)(11,"ion-col",6)(12,"ion-list",7),e.Z7z(13,C,3,1,"ion-item",8,e.fX1),e.k0s()()(),e.nrm(15,"app-title",0),e.j41(16,"ion-row",3)(17,"ion-col",4)(18,"p"),e.EFF(19,"Choose two dates to compare the server usage."),e.k0s()()(),e.j41(20,"ion-row",5)(21,"ion-col",6)(22,"ion-list",7),e.Z7z(23,D,3,1,"ion-item",8,e.fX1),e.k0s()(),e.j41(25,"ion-col",9)(26,"ion-button",10),e.bIt("click",function(){return n.compareDates()}),e.EFF(27,"Compare"),e.k0s()()()()()),2&t&&(e.Y8G("title","Usage for date"),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("title","Usage for date"),e.R7$(7),e.Y8G("inset",!0),e.R7$(),e.Dyx(n.dates),e.R7$(2),e.Y8G("title","Compare two dates"),e.R7$(7),e.Y8G("inset",!0),e.R7$(),e.Dyx(n.dates),e.R7$(3),e.Y8G("disabled",!n.isCompareButtonEnabled))},dependencies:[a.Jm,a.eY,a.hU,a.W9,a.lO,a.uz,a.he,a.nf,a.To,a.Ki,a.ln,a.hB,u.W,F.p]}),c})()}];let P=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[d.iI.forChild(v),d.iI]}),c})();var G=r(5553);let R=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[s.MD,f.YN,a.bv,P,G.h]}),c})()}}]);