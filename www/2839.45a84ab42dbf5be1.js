"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2839],{5553:(F,h,r)=>{r.d(h,{h:()=>p});var s=r(177),f=r(7863),n=r(4438);let p=(()=>{var i;class e{}return(i=e).\u0275fac=function(u){return new(u||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[s.MD,f.bv]}),e})()},3241:(F,h,r)=>{r.d(h,{p:()=>p});var s=r(4438),f=r(177),n=r(7863);let p=(()=>{var i;class e{constructor(u){this.location=u,this.title="Header Title"}ngOnInit(){}goBack(){this.location.back()}}return(i=e).\u0275fac=function(u){return new(u||i)(s.rXU(f.aZ))},i.\u0275cmp=s.VBU({type:i,selectors:[["app-header-return"]],inputs:{title:"title"},decls:6,vars:2,consts:[[3,"translucent"],["slot","start","menu","menu-id"],["name","arrow-back","slot","start",1,"p-4","bigger-icon",3,"click"]],template:function(u,_){1&u&&(s.j41(0,"ion-header",0)(1,"ion-toolbar"),s.nrm(2,"ion-menu-button",1),s.j41(3,"ion-icon",2),s.bIt("click",function(){return _.goBack()}),s.k0s(),s.j41(4,"ion-title"),s.EFF(5),s.k0s()()()),2&u&&(s.Y8G("translucent",!0),s.R7$(5),s.JRh(_.title))},dependencies:[n.eU,n.iq,n.MC,n.BC,n.ai],styles:[".bigger-icon[_ngcontent-%COMP%]{font-size:1.5em}"]}),e})()},2839:(F,h,r)=>{r.r(h),r.d(h,{FlameGraphDatePageModule:()=>G});var s=r(177),f=r(4341),n=r(7863),p=r(7650),i=r(467),e=r(4438),g=r(6560),u=r(8453),_=r(3241);function C(a,c){if(1&a){const l=e.RV6();e.j41(0,"ion-item",11),e.bIt("click",function(){const o=e.eBV(l).$implicit,m=e.XpG();return e.Njj(m.viewUsageForDate(o))}),e.j41(1,"ion-label"),e.EFF(2),e.k0s()()}if(2&a){const l=c.$implicit;e.R7$(2),e.JRh(l)}}function D(a,c){if(1&a){const l=e.RV6();e.j41(0,"ion-item",8)(1,"ion-checkbox",12),e.bIt("ionChange",function(o){const m=e.eBV(l).$implicit,d=e.XpG();return e.Njj(d.onCheckBoxChange(o,m))}),e.EFF(2),e.k0s()()}if(2&a){const l=c.$implicit;e.R7$(2),e.JRh(l)}}const y=[{path:"",component:(()=>{var a;class c{constructor(t,o,m,d){this.flameGraphService=t,this.loadingCtrl=o,this.router=m,this.route=d,this.dates=[],this.product={},this.usage_type="",this.checkedForComparison=[],this.isCompareButtonEnabled=!1}ionViewWillEnter(){var t=this;return(0,i.A)(function*(){t.getProductFromParams(),yield t.getDates()})()}getProductFromParams(){this.route.queryParams.subscribe(t=>{this.product=JSON.parse(t.product),this.usage_type=this.route.snapshot.queryParamMap.get("usage_type")}),console.log(this.product.productObjective),console.log(this.usage_type)}getDates(){var t=this;return(0,i.A)(function*(){try{yield t.showLoading();const o=localStorage.getItem("user");if(!o)return;const d=JSON.parse(o).orgName;console.log(d),"cpu"===t.usage_type&&(t.usage_type=void 0),t.dates=yield t.flameGraphService.getDates(d,t.product.productObjective,t.usage_type),console.log(t.dates),yield t.hideLoading(),0===t.dates.length&&t.dates.push("No dates found")}catch(o){console.log(o)}})()}viewUsageForDate(t){var o=this;return(0,i.A)(function*(){yield o.router.navigate(["/flame-graph"],{queryParams:{product:JSON.stringify(o.product),date:t,usage_type:o.usage_type}})})()}doRefresh(t){var o=this;return(0,i.A)(function*(){yield o.getDates(),t.target.complete()})()}showLoading(){var t=this;return(0,i.A)(function*(){yield(yield t.loadingCtrl.create({})).present()})()}hideLoading(){var t=this;return(0,i.A)(function*(){yield t.loadingCtrl.dismiss()})()}ngOnInit(){}onCheckBoxChange(t,o){t.detail.checked?this.checkedForComparison.push(o):this.checkedForComparison=this.checkedForComparison.filter(m=>m!==o),this.isCompareButtonEnabled=this.checkedForComparison.length>1}compareDates(){this.router.navigate(["/flame-graph-compare"],{queryParams:{product:JSON.stringify(this.product),dates:JSON.stringify(this.checkedForComparison),usage_type:this.usage_type}})}}return(a=c).\u0275fac=function(t){return new(t||a)(e.rXU(g.x),e.rXU(n.Xi),e.rXU(p.Ix),e.rXU(p.nX))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-flame-graph-date"]],decls:28,vars:7,consts:[[3,"title"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"lg:m-10","md:m-10"],["size","12","size-md","4","size-lg","4",1,""],[1,"lg:m-10"],["size","12"],[1,"bg-white",3,"inset"],["color","dark"],["size","12",1,"ion-text-center"],[3,"click","disabled"],["color","dark",3,"click"],["justify","space-between",3,"ionChange"]],template:function(t,o){1&t&&(e.nrm(0,"app-header-return",0),e.j41(1,"ion-content",1)(2,"ion-refresher",2),e.bIt("ionRefresh",function(d){return o.doRefresh(d)}),e.nrm(3,"ion-refresher-content"),e.k0s(),e.j41(4,"ion-grid"),e.nrm(5,"app-title",0),e.j41(6,"ion-row",3)(7,"ion-col",4)(8,"p"),e.EFF(9,"Choose a date to see the server usage."),e.k0s()()(),e.j41(10,"ion-row",5)(11,"ion-col",6)(12,"ion-list",7),e.Z7z(13,C,3,1,"ion-item",8,e.fX1),e.k0s()()(),e.nrm(15,"app-title",0),e.j41(16,"ion-row",3)(17,"ion-col",4)(18,"p"),e.EFF(19,"Choose two dates to compare the server usage."),e.k0s()()(),e.j41(20,"ion-row",5)(21,"ion-col",6)(22,"ion-list",7),e.Z7z(23,D,3,1,"ion-item",8,e.fX1),e.k0s()(),e.j41(25,"ion-col",9)(26,"ion-button",10),e.bIt("click",function(){return o.compareDates()}),e.EFF(27,"Compare"),e.k0s()()()()()),2&t&&(e.Y8G("title","Usage for date"),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("title","Usage for date"),e.R7$(7),e.Y8G("inset",!0),e.R7$(),e.Dyx(o.dates),e.R7$(2),e.Y8G("title","Compare two dates"),e.R7$(7),e.Y8G("inset",!0),e.R7$(),e.Dyx(o.dates),e.R7$(3),e.Y8G("disabled",!o.isCompareButtonEnabled))},dependencies:[n.Jm,n.eY,n.hU,n.W9,n.lO,n.uz,n.he,n.nf,n.To,n.Ki,n.ln,n.hB,u.W,_.p]}),c})()}];let v=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[p.iI.forChild(y),p.iI]}),c})();var P=r(5553);let G=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[s.MD,f.YN,n.bv,v,P.h]}),c})()}}]);