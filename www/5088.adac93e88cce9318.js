"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5088],{5553:(y,h,i)=>{i.d(h,{h:()=>g});var a=i(177),p=i(7863),n=i(4438);let g=(()=>{var c;class e{}return(c=e).\u0275fac=function(u){return new(u||c)},c.\u0275mod=n.$C({type:c}),c.\u0275inj=n.G2t({imports:[a.MD,p.bv]}),e})()},3241:(y,h,i)=>{i.d(h,{p:()=>g});var a=i(4438),p=i(177),n=i(7863);let g=(()=>{var c;class e{constructor(u){this.location=u,this.title="Header Title"}ngOnInit(){}goBack(){this.location.back()}}return(c=e).\u0275fac=function(u){return new(u||c)(a.rXU(p.aZ))},c.\u0275cmp=a.VBU({type:c,selectors:[["app-header-return"]],inputs:{title:"title"},decls:6,vars:2,consts:[[3,"translucent"],["slot","start","menu","menu-id"],["name","arrow-back","slot","start",1,"p-4","bigger-icon",3,"click"]],template:function(u,T){1&u&&(a.j41(0,"ion-header",0)(1,"ion-toolbar"),a.nrm(2,"ion-menu-button",1),a.j41(3,"ion-icon",2),a.bIt("click",function(){return T.goBack()}),a.k0s(),a.j41(4,"ion-title"),a.EFF(5),a.k0s()()()),2&u&&(a.Y8G("translucent",!0),a.R7$(5),a.JRh(T.title))},dependencies:[n.eU,n.iq,n.MC,n.BC,n.ai],styles:[".bigger-icon[_ngcontent-%COMP%]{font-size:1.5em}"]}),e})()},5088:(y,h,i)=>{i.r(h),i.d(h,{CreateSystemTestPageModule:()=>v});var a=i(177),p=i(4341),n=i(7863),g=i(7650),c=i(467),e=i(4438),_=i(9274),u=i(8453),T=i(3241);function C(o,m){return this.testStepTitle}function f(o,m){if(1&o){const r=e.RV6();e.j41(0,"ion-item")(1,"ion-label")(2,"h1"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s()(),e.j41(6,"ion-icon",17),e.bIt("click",function(){const s=e.eBV(r).$implicit,l=e.XpG();return e.Njj(l.delete(s.stepTitle))}),e.k0s()()}if(2&o){const r=m.$implicit;e.R7$(3),e.JRh(r.stepTitle),e.R7$(2),e.JRh(r.expectedResults)}}function S(o,m){if(1&o){const r=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",18)(3,"ion-button",19),e.bIt("click",function(){e.eBV(r);const s=e.XpG();return e.Njj(s.cancel())}),e.EFF(4,"Cancel"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Add Test Step"),e.k0s(),e.j41(7,"ion-buttons",20)(8,"ion-button",19),e.bIt("click",function(){e.eBV(r);const s=e.XpG();return e.Njj(s.save())}),e.EFF(9,"Save"),e.k0s()()()(),e.j41(10,"ion-content",21)(11,"ion-card",22)(12,"ion-label"),e.EFF(13,"Step"),e.k0s(),e.j41(14,"ion-input",23),e.mxI("ngModelChange",function(s){e.eBV(r);const l=e.XpG();return e.DH7(l.testStepTitle,s)||(l.testStepTitle=s),e.Njj(s)}),e.k0s(),e.nrm(15,"br"),e.j41(16,"ion-label"),e.EFF(17,"Expected"),e.k0s(),e.j41(18,"ion-input",23),e.mxI("ngModelChange",function(s){e.eBV(r);const l=e.XpG();return e.DH7(l.testExpectedResults,s)||(l.testExpectedResults=s),e.Njj(s)}),e.k0s()()()}if(2&o){const r=e.XpG();e.R7$(14),e.R50("ngModel",r.testStepTitle),e.R7$(4),e.R50("ngModel",r.testExpectedResults)}}const M=[{path:"",component:(()=>{var o;class m{constructor(t,s,l,d){this.activatedRoute=t,this.alertCtrl=s,this.systemTestService=l,this.loadingCtrl=d,this.productObjective="",this.productStep="",this.systemTest={title:"",description:"",steps:[],type:"system-test",state:!1},this.testStepTitle="",this.testExpectedResults="",this.user={},this.orgName=""}ngOnInit(){this.getProductFromParams()}getProductFromParams(){this.activatedRoute.params.subscribe(t=>{this.productObjective=t.productObjective,this.productStep=t.step}),console.log(this.productObjective),console.log(this.productStep)}onWillDismiss(t){}cancel(){var t;null===(t=this.modal)||void 0===t||t.dismiss()}save(){var t;this.testStepTitle&&this.testExpectedResults?(this.systemTest.steps.push({stepTitle:this.testStepTitle,expectedResults:this.testExpectedResults,isComplete:!1}),this.testStepTitle="",this.testExpectedResults="",null===(t=this.modal)||void 0===t||t.dismiss()):this.showAlert("Please fill out the Step Title and the Expected Result fields.","Error").then(s=>console.log("Alert shown"))}delete(t){this.systemTest.steps=this.systemTest.steps.filter(s=>s.stepTitle!==t)}showAlert(t,s){var l=this;return(0,c.A)(function*(){yield(yield l.alertCtrl.create({header:s,message:t,buttons:["OK"]})).present()})()}createSystemTest(){var t=this;return(0,c.A)(function*(){if(yield t.showLoading(),console.log(t.systemTest),!t.systemTest.title||!t.systemTest.description||0===t.systemTest.steps.length)return yield t.hideLoading(),void t.showAlert("Please fill out the title, description, and at least one step.","Error").then(l=>console.log("Alert shown"));const s=localStorage.getItem("user");s&&(t.user=JSON.parse(s),t.orgName=t.user.orgName,console.log(t.orgName),t.systemTestService.addSystemTest(t.orgName,t.productObjective,t.productStep,t.systemTest),t.systemTest={title:"",description:"",steps:[],type:"system-test",state:!1},yield t.hideLoading(),window.history.back())})()}showLoading(){var t=this;return(0,c.A)(function*(){yield(yield t.loadingCtrl.create({})).present()})()}hideLoading(){var t=this;return(0,c.A)(function*(){yield t.loadingCtrl.dismiss()})()}doRefresh(t){}}return(o=m).\u0275fac=function(t){return new(t||o)(e.rXU(g.nX),e.rXU(n.hG),e.rXU(_.h),e.rXU(n.Xi))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-create-system-test"]],viewQuery:function(t,s){if(1&t&&e.GBs(n.Sb,5),2&t){let l;e.mGM(l=e.lsd())&&(s.modal=l.first)}},decls:33,vars:5,consts:[[3,"title"],[3,"fullscreen"],[1,"lg:m-10","md:m-10"],["size","12","size-md","4","size-lg","4",1,""],["size","12","size-md","12","size-lg","12",1,""],[1,"min-h-full","flex","flex-col","p-8"],[1,"bg-gray-600","p-2"],["placeholder","Test Title","type","text",1,"text-3xl",3,"ngModelChange","ngModel"],["placeholder","Test Description","type","text",1,"text-sm",3,"ngModelChange","ngModel"],[1,""],[1,"flex","flex-row","items-center"],[1,"text-4xl"],["id","open-modal",1,"flex","flex-row","items-center","bg-cyan-800","m-4","p-1"],["name","add"],[1,"bg-gray-600"],["color","primary","expand","block","fill","outline",3,"click"],["trigger","open-modal",3,"willDismiss"],["aria-hidden","true","name","trash","slot","end",3,"click"],["slot","start"],[3,"click"],["slot","end"],[1,"flex","flex-col","justify-center","items-center"],[1,"m-2","p-2"],["type","text",3,"ngModelChange","ngModel"]],template:function(t,s){1&t&&(e.nrm(0,"app-header-return",0),e.j41(1,"ion-content",1)(2,"ion-grid"),e.nrm(3,"app-title",0),e.j41(4,"ion-row",2)(5,"ion-col",3)(6,"p"),e.EFF(7,"Fill the test from to create a system test."),e.k0s(),e.nrm(8,"p"),e.k0s()(),e.j41(9,"ion-row",2)(10,"ion-col",4)(11,"ion-card",5)(12,"ion-card-title",6)(13,"ion-input",7),e.mxI("ngModelChange",function(d){return e.DH7(s.systemTest.title,d)||(s.systemTest.title=d),d}),e.k0s()(),e.nrm(14,"br"),e.j41(15,"ion-card-title",6)(16,"ion-textarea",8),e.mxI("ngModelChange",function(d){return e.DH7(s.systemTest.description,d)||(s.systemTest.description=d),d}),e.k0s()(),e.nrm(17,"br"),e.j41(18,"ion-card-title",9)(19,"div",10)(20,"h1",11),e.EFF(21,"Test Steps..."),e.k0s(),e.j41(22,"div",12),e.nrm(23,"ion-icon",13),e.k0s()()(),e.j41(24,"ion-card-content",14)(25,"ion-list"),e.Z7z(26,f,7,2,"ion-item",null,C,!0),e.k0s()(),e.nrm(28,"br"),e.j41(29,"ion-button",15),e.bIt("click",function(){return s.createSystemTest()}),e.EFF(30,"Create System Test"),e.k0s()()()()(),e.j41(31,"ion-modal",16),e.bIt("willDismiss",function(d){return s.onWillDismiss(d)}),e.DNE(32,S,19,2,"ng-template"),e.k0s()()),2&t&&(e.Y8G("title","Create System Test"),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("title","Create System Test"),e.R7$(10),e.R50("ngModel",s.systemTest.title),e.R7$(3),e.R50("ngModel",s.systemTest.description),e.R7$(10),e.Dyx(s.systemTest.steps))},dependencies:[p.BC,p.vS,n.Jm,n.QW,n.b_,n.I9,n.tN,n.hU,n.W9,n.lO,n.eU,n.iq,n.$w,n.uz,n.he,n.nf,n.ln,n.nc,n.BC,n.ai,n.Sb,n.Gw,u.W,T.p]}),m})()}];let R=(()=>{var o;class m{}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild(M),g.iI]}),m})();var P=i(5553);let v=(()=>{var o;class m{}return(o=m).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[a.MD,p.YN,n.bv,R,P.h]}),m})()}}]);