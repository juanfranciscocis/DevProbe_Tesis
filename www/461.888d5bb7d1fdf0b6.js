"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[461],{461:(C,c,i)=>{i.r(c),i.d(c,{MyteamPageModule:()=>w});var u=i(177),g=i(4341),o=i(7863),M=i(305),d=i(467),e=i(4438),h=i(5092),y=i(385),b=i(8453);function f(r,l){if(1&r){const s=e.RV6();e.j41(0,"ion-col",3)(1,"div",12)(2,"ion-card-header")(3,"h1",13),e.EFF(4),e.k0s()(),e.j41(5,"ion-card-content",14)(6,"ion-button",15),e.bIt("click",function(){const a=e.eBV(s).$implicit,m=e.XpG();return e.Njj(m.removeMember(a.uid))}),e.EFF(7,"Remove"),e.k0s()()()()}if(2&r){const s=l.$implicit;e.R7$(4),e.JRh(s.name)}}const p=[{path:"",component:(()=>{var r;class l{constructor(t,a,m){this.teamsService=t,this.loadingCtrl=a,this.alertCtrl=m,this.members=[],this.orgName="",this.teamMemberName="",this.teamMemberEmail="",this.teamMemberPassword=""}ngOnInit(){var t=this;return(0,d.A)(function*(){yield t.getTeam()})()}getTeam(){var t=this;return(0,d.A)(function*(){yield t.showLoading();const a=localStorage.getItem("user");if(!a)return;const m=JSON.parse(a),n=yield t.teamsService.getTeamByOrganization(m.orgName);t.orgName=m.orgName,n&&(t.members=n),yield t.hideLoading()})()}removeMember(t){var a=this;return(0,d.A)(function*(){yield a.showLoading(),(yield a.teamsService.removeMember(a.orgName,t))?a.members=a.members.filter(n=>n.uid!==t):yield a.showAlert("There was an error removing the member"),yield a.hideLoading()})()}addMember(){var t=this;return(0,d.A)(function*(){yield t.showLoading();const a={name:t.teamMemberName,email:t.teamMemberEmail,password:t.teamMemberPassword,orgName:t.orgName};if(!a.name||!a.email||!a.password)return yield t.hideLoading(),void(yield t.showAlert("Please fill all the fields"));const m=yield t.teamsService.addMember(a);"string"==typeof m?(a.uid=m,t.members.push(a),t.teamMemberName="",t.teamMemberEmail="",t.teamMemberPassword=""):yield t.showAlert("There was an error adding the member"),yield t.hideLoading()})()}showAlert(t){var a=this;return(0,d.A)(function*(){yield(yield a.alertCtrl.create({header:"Login Failed!",message:t,buttons:["OK"]})).present()})()}showLoading(){var t=this;return(0,d.A)(function*(){yield(yield t.loadingCtrl.create({})).present()})()}hideLoading(){var t=this;return(0,d.A)(function*(){yield t.loadingCtrl.dismiss()})()}}return(r=l).\u0275fac=function(t){return new(t||r)(e.rXU(h.O),e.rXU(o.Xi),e.rXU(o.hG))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-myteam"]],inputs:{teamMemberName:"teamMemberName",teamMemberEmail:"teamMemberEmail",teamMemberPassword:"teamMemberPassword"},decls:19,vars:7,consts:[[3,"title"],[3,"fullscreen"],[1,"lg:m-10"],["size","6","size-md","4","size-lg","4",1,""],[1,"lg:m-10","md:m-10"],["size","12","size-md","4","size-lg","4",1,""],["label","Team Member Name","placeholder","Enter a name","type","text","labelPlacement","stacked",1,"",3,"ngModelChange","ngModel"],["size","12","size-md","4","size-lg","4"],["label","Team Member Email","placeholder","Enter an email","type","email","labelPlacement","stacked",1,"",3,"ngModelChange","ngModel"],["label","Team Member Password","placeholder","Enter a password for the account","type","password","labelPlacement","stacked",1,"",3,"ngModelChange","ngModel"],["size","12","size-md","12","size-lg","12",1,"flex","flex-row","justify-end"],["color","primary",1,"",3,"click"],[1,"flex","flex-col","h-full","justify-between","bg-gray-600","rounded-2xl"],[1,"text-2xl"],[1,"flex","flex-col"],["color","danger",1,"m-4",3,"click"]],template:function(t,a){1&t&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content",1)(2,"ion-grid"),e.nrm(3,"app-title",0),e.j41(4,"ion-row",2),e.Z7z(5,f,8,1,"ion-col",3,e.fX1),e.k0s(),e.nrm(7,"app-title",0),e.j41(8,"ion-row",4)(9,"ion-col",5)(10,"ion-input",6),e.mxI("ngModelChange",function(n){return e.DH7(a.teamMemberName,n)||(a.teamMemberName=n),n}),e.k0s()(),e.j41(11,"ion-col",7)(12,"ion-input",8),e.mxI("ngModelChange",function(n){return e.DH7(a.teamMemberEmail,n)||(a.teamMemberEmail=n),n}),e.k0s()(),e.j41(13,"ion-col",7)(14,"ion-input",9),e.mxI("ngModelChange",function(n){return e.DH7(a.teamMemberPassword,n)||(a.teamMemberPassword=n),n}),e.k0s()()(),e.j41(15,"ion-row",4)(16,"ion-col",10)(17,"ion-button",11),e.bIt("click",function(){return a.addMember()}),e.EFF(18,"Add Member"),e.k0s()()()()()),2&t&&(e.Y8G("title","My Team"),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("title","Team Members"),e.R7$(2),e.Dyx(a.members),e.R7$(2),e.Y8G("title","Add Team Member"),e.R7$(3),e.R50("ngModel",a.teamMemberName),e.R7$(2),e.R50("ngModel",a.teamMemberEmail),e.R7$(2),e.R50("ngModel",a.teamMemberPassword))},dependencies:[g.BC,g.vS,o.Jm,o.I9,o.ME,o.hU,o.W9,o.lO,o.$w,o.ln,o.Gw,y.l,b.W]}),l})()}];let P=(()=>{var r;class l{}return(r=l).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[M.iI.forChild(p),M.iI]}),l})();var v=i(5553);let w=(()=>{var r;class l{}return(r=l).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[u.MD,g.YN,o.bv,P,v.h]}),l})()}}]);