"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6480],{5553:(C,h,o)=>{o.d(h,{h:()=>l});var i=o(177),g=o(7863),a=o(4438);let l=(()=>{var s;class e{}return(s=e).\u0275fac=function(u){return new(u||s)},s.\u0275mod=a.$C({type:s}),s.\u0275inj=a.G2t({imports:[i.MD,g.bv]}),e})()},3241:(C,h,o)=>{o.d(h,{p:()=>l});var i=o(4438),g=o(177),a=o(7863);let l=(()=>{var s;class e{constructor(u){this.location=u,this.title="Header Title"}ngOnInit(){}goBack(){this.location.back()}}return(s=e).\u0275fac=function(u){return new(u||s)(i.rXU(g.aZ))},s.\u0275cmp=i.VBU({type:s,selectors:[["app-header-return"]],inputs:{title:"title"},decls:6,vars:2,consts:[[3,"translucent"],["slot","start","menu","menu-id"],["name","arrow-back","slot","start",1,"p-4","bigger-icon",3,"click"]],template:function(u,f){1&u&&(i.j41(0,"ion-header",0)(1,"ion-toolbar"),i.nrm(2,"ion-menu-button",1),i.j41(3,"ion-icon",2),i.bIt("click",function(){return f.goBack()}),i.k0s(),i.j41(4,"ion-title"),i.EFF(5),i.k0s()()()),2&u&&(i.Y8G("translucent",!0),i.R7$(5),i.JRh(f.title))},dependencies:[a.eU,a.iq,a.MC,a.BC,a.ai],styles:[".bigger-icon[_ngcontent-%COMP%]{font-size:1.5em}"]}),e})()},8453:(C,h,o)=>{o.d(h,{W:()=>a});var i=o(4438),g=o(7863);let a=(()=>{var l;class s{constructor(){this.title="Title"}ngOnInit(){}}return(l=s).\u0275fac=function(m){return new(m||l)},l.\u0275cmp=i.VBU({type:l,selectors:[["app-title"]],inputs:{title:"title"},decls:4,vars:1,consts:[[1,"lg:m-10"],["size","12","size-md","6","size-lg","6"],[1,"text-4xl","lg:text-6xl","font-bold"]],template:function(m,u){1&m&&(i.j41(0,"ion-row",0)(1,"ion-col",1)(2,"h1",2),i.EFF(3),i.k0s()()()),2&m&&(i.R7$(3),i.JRh(u.title))},dependencies:[g.hU,g.ln]}),s})()},6480:(C,h,o)=>{o.r(h),o.d(h,{FlameGraphDatePageModule:()=>R});var i=o(177),g=o(4341),a=o(7863),l=o(7650),s=o(467),e=o(4438),m=o(6560),u=o(8453),f=o(3241);function F(r,p){if(1&r){const c=e.RV6();e.j41(0,"ion-item",11),e.bIt("click",function(){const n=e.eBV(c).$implicit,d=e.XpG();return e.Njj(d.viewUsageForDate(n))}),e.j41(1,"ion-label"),e.EFF(2),e.k0s()()}if(2&r){const c=p.$implicit;e.R7$(2),e.JRh(c)}}function D(r,p){if(1&r){const c=e.RV6();e.j41(0,"ion-item",8)(1,"ion-checkbox",12),e.bIt("ionChange",function(n){const d=e.eBV(c).$implicit,_=e.XpG();return e.Njj(_.onCheckBoxChange(n,d))}),e.EFF(2),e.k0s()()}if(2&r){const c=p.$implicit;e.R7$(2),e.JRh(c)}}const v=[{path:"",component:(()=>{var r;class p{constructor(t,n,d,_){this.flameGraphService=t,this.loadingCtrl=n,this.router=d,this.route=_,this.dates=[],this.product={},this.usage_type="",this.checkedForComparison=[],this.isCompareButtonEnabled=!1}ionViewWillEnter(){var t=this;return(0,s.A)(function*(){t.getProductFromParams(),yield t.getDates()})()}getProductFromParams(){this.route.queryParams.subscribe(t=>{this.product=JSON.parse(t.product),this.usage_type=this.route.snapshot.queryParamMap.get("usage_type")}),console.log(this.product.productObjective),console.log(this.usage_type)}getDates(){var t=this;return(0,s.A)(function*(){try{yield t.showLoading();const n=localStorage.getItem("user");if(!n)return;const _=JSON.parse(n).orgName;console.log(_),"cpu"===t.usage_type&&(t.usage_type=void 0),t.dates=yield t.flameGraphService.getDates(_,t.product.productObjective,t.usage_type),console.log(t.dates),yield t.hideLoading(),0===t.dates.length&&t.dates.push("No dates found")}catch(n){console.log(n)}})()}viewUsageForDate(t){var n=this;return(0,s.A)(function*(){yield n.router.navigate(["/flame-graph"],{queryParams:{product:JSON.stringify(n.product),date:t,usage_type:n.usage_type}})})()}doRefresh(t){var n=this;return(0,s.A)(function*(){yield n.getDates(),t.target.complete()})()}showLoading(){var t=this;return(0,s.A)(function*(){yield(yield t.loadingCtrl.create({})).present()})()}hideLoading(){var t=this;return(0,s.A)(function*(){yield t.loadingCtrl.dismiss()})()}ngOnInit(){}onCheckBoxChange(t,n){t.detail.checked?this.checkedForComparison.push(n):this.checkedForComparison=this.checkedForComparison.filter(d=>d!==n),this.isCompareButtonEnabled=this.checkedForComparison.length>1}compareDates(){this.router.navigate(["/flame-graph-compare"],{queryParams:{product:JSON.stringify(this.product),dates:JSON.stringify(this.checkedForComparison),usage_type:this.usage_type}})}}return(r=p).\u0275fac=function(t){return new(t||r)(e.rXU(m.x),e.rXU(a.Xi),e.rXU(l.Ix),e.rXU(l.nX))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-flame-graph-date"]],decls:28,vars:7,consts:[[3,"title"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"lg:m-10","md:m-10"],["size","12","size-md","4","size-lg","4",1,""],[1,"lg:m-10"],["size","12"],[1,"bg-white",3,"inset"],["color","dark"],["size","12",1,"ion-text-center"],[3,"click","disabled"],["color","dark",3,"click"],["justify","space-between",3,"ionChange"]],template:function(t,n){1&t&&(e.nrm(0,"app-header-return",0),e.j41(1,"ion-content",1)(2,"ion-refresher",2),e.bIt("ionRefresh",function(_){return n.doRefresh(_)}),e.nrm(3,"ion-refresher-content"),e.k0s(),e.j41(4,"ion-grid"),e.nrm(5,"app-title",0),e.j41(6,"ion-row",3)(7,"ion-col",4)(8,"p"),e.EFF(9,"Choose a date to see the server usage."),e.k0s()()(),e.j41(10,"ion-row",5)(11,"ion-col",6)(12,"ion-list",7),e.Z7z(13,F,3,1,"ion-item",8,e.fX1),e.k0s()()(),e.nrm(15,"app-title",0),e.j41(16,"ion-row",3)(17,"ion-col",4)(18,"p"),e.EFF(19,"Choose two dates to compare the server usage."),e.k0s()()(),e.j41(20,"ion-row",5)(21,"ion-col",6)(22,"ion-list",7),e.Z7z(23,D,3,1,"ion-item",8,e.fX1),e.k0s()(),e.j41(25,"ion-col",9)(26,"ion-button",10),e.bIt("click",function(){return n.compareDates()}),e.EFF(27,"Compare"),e.k0s()()()()()),2&t&&(e.Y8G("title","Usage for date"),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("title","Usage for date"),e.R7$(7),e.Y8G("inset",!0),e.R7$(),e.Dyx(n.dates),e.R7$(2),e.Y8G("title","Compare two dates"),e.R7$(7),e.Y8G("inset",!0),e.R7$(),e.Dyx(n.dates),e.R7$(3),e.Y8G("disabled",!n.isCompareButtonEnabled))},dependencies:[a.Jm,a.eY,a.hU,a.W9,a.lO,a.uz,a.he,a.nf,a.To,a.Ki,a.ln,a.hB,u.W,f.p]}),p})()}];let P=(()=>{var r;class p{}return(r=p).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[l.iI.forChild(v),l.iI]}),p})();var y=o(5553);let R=(()=>{var r;class p{}return(r=p).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[i.MD,g.YN,a.bv,P,y.h]}),p})()}}]);